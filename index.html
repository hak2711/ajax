<!DOCTYPE html>
<html>

<head>
    <title>WEB1</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="colors.js"></script>
</head>
<!--#!(hash_bang)을 통해서 url로도 구분이 가게 할 수 있음.-->
<!--근데 이 방법 이제 잘 안 씀. pjax라는 거 씀! 나중에 찾아서 배우기-->
<body>
    <h1><a href="index.html">WEB</a></h1>
    <input id="night_day" type="button" value="night" onclick="
    nightDayHandler(this);
    ">
    <ol id="nav">
        
    </ol>
    <article>

    </article>
    <script>
        function fetchPage(name) {
            fetch(name).then(function (response) {
                response.text().then(function (text) {
                    document.querySelector('article').innerHTML = text;
                })
            });
        }

        if(location.hash){
            fetchPage(location.hash.substr(2));
        }else{
            fetchPage('welcome');
        }

        fetch('list').then(function (response) {
                response.text().then(function (text) {
                    var items = text.split(',');
                    var i = 0;
                    var tags = '';
                    while(i<items.length){
                        var item = items[i];
                        item = item.trim();
                        var tag ='<li><a href="#!'+item+'" onclick="fetchPage(\''+item+'\')">'+item+'</a></li>';
                        tags = tags+tag;
                        i= i+1;
                    }
                    document.querySelector('#nav').innerHTML = tags;
                })
            });
    </script>
</body>

</html>